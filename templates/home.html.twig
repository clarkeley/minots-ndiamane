{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}
    <div class="container-fluid text-center">
        <div class="row">
            <div class="col-sm-6 img-split p-0 home">

            </div>
            <div class="col-sm-6 page-block">
                <div class="menu-sm">
                    {% include 'menu/menu.html.twig' %}
                </div>

                <div class="d-5 font-txt">
                    <blockquote>
                        <h3>"Qui sauve un <span class="orange-color">enfant</span><br> sauve le <span class="orange-color">monde</span> ."</h3>
                    </blockquote>
                </div>

                {#Countdown#}
                <div class="d-5 font-txt">
                    <h3>Décompte avant le prochain départ</h3>

                    <div id="timer"></div>
                </div>

                <div>
                    <a href="https://fr.tipeee.com/" class="btn btn-lg buttons-link" role="button">Je fais un don à l'association</a>
                </div>

                {#NewsLetter form#}
                <h3 class="no-hr d-3 font-txt">NEWSLETTER</h3>
                <div class="font-txt">
                    <h3 class="hr">NEWSLETTER</h3>
                    <p class="d-2">Pour se tenir au courant des activités en lien<br> avec le groupe associatif.</p>

                    {{ form_start(form)}}
                    <div class="form-row justify-content-center d-3">
                        <div class="col-sm-2 form-home">
                            {{ form_row(form.email) }}
                        </div>
                        <div class="col-sm-3 form-home">
                            <button type="submit" formmethod="post" class="btn btn-orange">S'ABONNER</button>
                        </div>
                    </div>
                    {{ form_end(form) }}
                </div>

                <footer class="b-1"> Les Minots de Ndiamane &copy; 2019</footer>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        const year = new Date().getFullYear();
        const gettingStarted = new Date((year + 1), 1, 1).getTime();
        let timer = setInterval(function() {
            const today = new Date().getTime();
            const diff = gettingStarted - today;
            let days = Math.floor(diff / (1000 * 60 * 60 * 24));
            let hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            let minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            let seconds = Math.floor((diff % (1000 * 60)) / 1000);
            document.getElementById("timer").innerHTML =
                "<div class=\"days\"> \ <div class=\"numbers\">" + days + "</div>Jours</div> \ <div class=\"hours\"> \ <div class=\"numbers\">" + hours + "</div>Heures</div> \ <div class=\"minutes\"> \ <div class=\"numbers\">" + minutes + "</div>Minutes</div> \ <div class=\"seconds\"> \ <div class=\"numbers\">" + seconds + "</div>Secondes</div> \ </div>";
        }, 1000);
    </script>
{% endblock %}